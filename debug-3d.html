<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEBUG - Planeta 2500 3D</title>
    <style>
        body { font-family: monospace; padding: 20px; }
        .debug-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        .success { background: #d4edda; border-color: #c3e6cb; }
        .error { background: #f8d7da; border-color: #f5c6cb; }
        .warning { background: #fff3cd; border-color: #ffeaa7; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>üõ†Ô∏è DEBUG - Planeta 2500 3D</h1>

    <div class="debug-section">
        <h2>üîç Verifica√ß√£o de Elementos HTML</h2>
        <button onclick="checkElements()">Verificar Elementos</button>
        <div id="element-check"></div>
    </div>

    <div class="debug-section">
        <h2>üéÆ Teste de Funcionalidades</h2>
        <button onclick="testGameInit()">Testar Inicializa√ß√£o</button>
        <button onclick="testUIUpdate()">Testar UI</button>
        <button onclick="test3D()">Testar 3D</button>
        <div id="function-test"></div>
    </div>

    <div class="debug-section">
        <h2>üìä Status do Sistema</h2>
        <div id="system-status">
            <p>Three.js: <span id="threejs-status">N√£o verificado</span></p>
            <p>WebGL: <span id="webgl-status">N√£o verificado</span></p>
            <p>DOM Ready: <span id="dom-status">N√£o verificado</span></p>
        </div>
    </div>

    <div class="debug-section">
        <h2>üéØ A√ß√µes R√°pidas</h2>
        <button onclick="openMainGame()">Abrir Jogo Principal</button>
        <button onclick="clearConsole()">Limpar Console</button>
        <button onclick="showErrors()">Mostrar √öltimos Erros</button>
    </div>

    <script>
        // Verificar elementos HTML
        function checkElements() {
            const requiredIds = [
                'loading', 'container', 'game-modal', 'modal-title', 'modal-message',
                'energy-indicator', 'pollution-indicator', 'resources-indicator', 'industry-indicator',
                'solar-btn', 'wind-btn', 'hydro-btn', 'fossil-btn', 'industry-btn', 'cleanup-btn',
                'turn-button', 'end-game-button', 'restart-btn'
            ];

            let result = '<h3>Resultado da Verifica√ß√£o:</h3><ul>';
            let allGood = true;

            for (const id of requiredIds) {
                const element = document.getElementById(id);
                if (element) {
                    result += `<li style="color: green;">‚úÖ ${id}: OK</li>`;
                } else {
                    result += `<li style="color: red;">‚ùå ${id}: AUSENTE</li>`;
                    allGood = false;
                }
            }

            result += '</ul>';

            if (allGood) {
                result += '<p style="color: green; font-weight: bold;">üéâ Todos os elementos necess√°rios est√£o presentes!</p>';
            } else {
                result += '<p style="color: red; font-weight: bold;">‚ö†Ô∏è Alguns elementos est√£o faltando. Isso pode causar erros.</p>';
            }

            document.getElementById('element-check').innerHTML = result;
        }

        // Testar funcionalidades
        function testGameInit() {
            try {
                console.log('Testando inicializa√ß√£o do jogo...');
                // Simular inicializa√ß√£o sem criar inst√¢ncia completa
                document.getElementById('function-test').innerHTML = '<p style="color: green;">‚úÖ Inicializa√ß√£o b√°sica OK</p>';
            } catch (error) {
                console.error('Erro na inicializa√ß√£o:', error);
                document.getElementById('function-test').innerHTML = `<p style="color: red;">‚ùå Erro: ${error.message}</p>`;
            }
        }

        function testUIUpdate() {
            try {
                // Testar acesso aos elementos da UI
                const elements = [
                    'energy-indicator', 'pollution-indicator', 'resources-indicator', 'industry-indicator',
                    'solar-btn', 'turn-button'
                ];

                for (const id of elements) {
                    const el = document.getElementById(id);
                    if (el) {
                        console.log(`${id}: OK`);
                    } else {
                        throw new Error(`Elemento ${id} n√£o encontrado`);
                    }
                }

                document.getElementById('function-test').innerHTML = '<p style="color: green;">‚úÖ UI OK - Todos os elementos acess√≠veis</p>';
            } catch (error) {
                document.getElementById('function-test').innerHTML = `<p style="color: red;">‚ùå UI Error: ${error.message}</p>`;
            }
        }

        function test3D() {
            try {
                if (typeof THREE === 'undefined') {
                    throw new Error('Three.js n√£o carregado');
                }

                // Testar WebGL
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');

                if (!gl) {
                    throw new Error('WebGL n√£o suportado');
                }

                document.getElementById('function-test').innerHTML = '<p style="color: green;">‚úÖ 3D OK - Three.js e WebGL funcionando</p>';
            } catch (error) {
                document.getElementById('function-test').innerHTML = `<p style="color: red;">‚ùå 3D Error: ${error.message}</p>`;
            }
        }

        // Verificar sistema
        function checkSystem() {
            // Three.js
            const threejsStatus = typeof THREE !== 'undefined' ? '‚úÖ Carregado' : '‚ùå N√£o carregado';
            document.getElementById('threejs-status').innerHTML = threejsStatus;

            // WebGL
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                const webglStatus = gl ? '‚úÖ Suportado' : '‚ùå N√£o suportado';
                document.getElementById('webgl-status').innerHTML = webglStatus;
            } catch (e) {
                document.getElementById('webgl-status').innerHTML = '‚ùå Erro na verifica√ß√£o';
            }

            // DOM
            const domStatus = document.readyState === 'complete' ? '‚úÖ Pronto' : '‚è≥ Carregando';
            document.getElementById('dom-status').innerHTML = domStatus;
        }

        // A√ß√µes r√°pidas
        function openMainGame() {
            window.open('index-3d.html', '_blank');
        }

        function clearConsole() {
            console.clear();
            alert('Console limpo!');
        }

        function showErrors() {
            // Este √© um exemplo simples - em produ√ß√£o voc√™ usaria uma biblioteca de logging
            console.log('Verifique o console do navegador para erros detalhados (F12 > Console)');
            alert('Pressione F12 e verifique a aba Console para erros detalhados.');
        }

        // Executar verifica√ß√µes ao carregar
        document.addEventListener('DOMContentLoaded', function() {
            checkSystem();
            checkElements();
        });
    </script>
</body>
</html>
